{
  "get": {
    "operationId": "checkAuthorization",
    "summary": "Check the current authorized roles with the given session token at a specific event.",
    "parameters": [
      {"$ref": "../components/eventId.json"}
    ],
    "security": [
      {},
      {"sessionTokenAuth": []}
    ],
    "responses": {
      "200": {
        "description": "Current authorization information.",
        "content": {
          "application/json": {
            "schema": {"$ref": "../schema/AuthorizationInfo.json"}
          }
        }
      },
      "400": {"$ref": "../components/badJSONError.json"},
      "415": {"$ref": "../components/wrongMediaTypeError.json"},
      "422": {"$ref": "../components/badContentError.json"},
      "500": {"$ref": "../components/serverError.json"}
    }
  },
  "post": {
    "operationId": "authorize",
    "summary": "Get a session token to get authorized for a specific role at a specific event.",
    "parameters": [
      {"$ref": "../components/eventId.json"},
      {
        "name": "X-SESSION-TOKEN",
        "in": "header",
        "description": "(optional) existing session token, to extend the roles/authorization information of the existing session.",
        "required": false,
        "schema": {
          "type": "string"
        }
      }
    ],
    "security": [
      {},
      {"sessionTokenAuth": []}
    ],
    "requestBody": {
      "content": {
        "application/json": {
          "schema": {
            "type": "object",
            "properties": {
              "passphrase": {
                "type": "string"
              }
            },
            "required": ["passphrase"]
          }
        }
      },
      "required": true
    },
    "responses": {
      "200": {
        "description": "New Authorization was successful.",
        "content": {
          "application/json": {
            "schema": {
              "allOf": [
                {"$ref": "../schema/AuthorizationInfo.json"},
                {
                  "type": "object",
                  "properties": {
                    "sessionToken": {
                      "type": "string"
                    }
                  },
                  "required": ["sessionToken"]
                }
              ]
            }
          }
        }
      },
      "403": {
        "description": "New Authorization was not successful.",
        "content": {
          "application/json": {
            "schema": {
              "allOf": [
                {"$ref": "../schema/Error.json"},
                {"$ref": "../schema/AuthorizationInfo.json"}
              ]
            }
          }
        }
      },
      "400": {"$ref": "../components/badJSONError.json"},
      "415": {"$ref": "../components/wrongMediaTypeError.json"},
      "422": {"$ref": "../components/badContentError.json"},
      "500": {"$ref": "../components/serverError.json"}
    }
  }
}
